<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
<head>
</head>

<body>
	<ui:composition>
			
		<h:outputStylesheet library="css" name="jquery.tagit.css" />
		<h:outputStylesheet library="css" name="tagit.ui-zendesk.css" />
		
   		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js" type="text/javascript" charset="utf-8"></script>
	    <h:outputScript library="scripts" name="tag-it.js" />
		
		<f:phaseListener type="util.LoggedInCheck" />
		<f:event type="preRenderView" listener="#{jobBean.init}" />
		
		<div class="container">
		<div class="content col-sm-9" style="margin-top: 50px;">
			<!-- Choose certain search list based on role? -->
			
			<!-- title -->
	    	<div class="page-header">
				<h3>#{jobBean.title}</h3>
	    	</div>
	    	
	    	<h:outputLabel for="desc">Description:</h:outputLabel><br />
			<h:outputText id="desc" value="#{jobBean.description}" /><br />
			
	    	<h:outputLabel for="req">Requirement:</h:outputLabel><br />
			<h:outputText id="req" value="#{jobBean.requirement}" /><br />
			
	    	<h:outputLabel for="resp">Responsibility:</h:outputLabel><br />
			<h:outputText id="resp" value="#{jobBean.responsibility}" /><br />
			
	    	<h:outputLabel for="exp">Experience:</h:outputLabel><br />
			<h:outputText id="exp" value="#{jobBean.experience}" /><br />
			
	    	<h:outputLabel for="company">Company:</h:outputLabel><br />
			<h:outputText id="company" value="#{jobBean.company.name}" /><br /><br />
			
	    	<!--  Skills -->
	    	<h:outputLabel for="skills">Skills:</h:outputLabel>
			<ul id="skills">
				<ui:repeat value="#{jobBean.skills}" var="skill">
					<li>#{skill}</li>
				</ui:repeat>					
            </ul>
            
			

						
			<!-- Edit button -->
			<h:panelGroup rendered="#{jobBean.owned()}">
				<h:link value="Edit" outcome="job_edit">
					<f:param name="id" value="#{jobBean.id}" />
				</h:link>
			</h:panelGroup> <br /> <br />
			
			<!-- Applicants: show if the user is the owner of this posting -->
			<h:panelGroup rendered="#{jobBean.owned()}">
			</h:panelGroup> <br />

			<!-- Show to job seekers -->
			<h:form prependId="false" rendered="#{userController.isJobSeeker()}">
			Select a document to apply this position: 
    		<h:selectOneMenu id="asset" value="#{jobBean.asset_id}">
   				<f:selectItems value="#{userController.assets}" var="asset"
   					itemLabel="#{asset.name}" itemValue="#{asset.id}" />
    		</h:selectOneMenu>
			
			<p:commandButton value="Apply" actionListener="#{jobBean.apply}" />
			</h:form>
		</div>
		</div>
		
		<script>
		$(function() {
			$('#skills').tagit({
                readOnly: true
            });
		});

		</script>
	</ui:composition>

</body>
</html>