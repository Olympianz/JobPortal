<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
</h:head>
<h:body>
<ui:composition template="/templates/loggedInLayout.xhtml">
	<ui:define name="content">

		<h:form id="form">
			<p:panel header="Profile">
				<p:messages id="messages" showDetail="true" autoUpdate="true"/>
				
				<p:panel header="Basics">
					<h:panelGrid columns="2" cellpadding="5">
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="Name:" />
						<p:inputText id="userName" value="#{profileMB.userBean.user_name}" />
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="New password: " />
						<p:password id="password1" value="#{profileMB.userBean.password}" match="password2"
							feedback="true" />
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="Repeat password:" />
						<p:password id="password2" value="#{profileMB.userBean.password}"
							feedback="true" />
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="Email: " />
						<p:inputText id="email" value="#{profileMB.userBean.email}" />
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="Role: " />
						<p:selectOneMenu value="#{profileMB.userBean.role}">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<f:selectItem itemLabel="Job Seeker" itemValue="jobseeker" />
							<f:selectItem itemLabel="Employer" itemValue="employer" />
							<f:selectItem itemLabel="Administrator" itemValue="administrator" />
						</p:selectOneMenu>
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="Experience: " />
						<p:selectOneMenu value="#{profileMB.userBean.experience}">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<f:selectItem itemLabel="Internship" itemValue="Intern" />
							<f:selectItem itemLabel="Entry Level" itemValue="Entry level" />
							<f:selectItem itemLabel="Junior Level" itemValue="Junior level" />
							<f:selectItem itemLabel="Senior Level" itemValue="Senior level" />
							<f:selectItem itemLabel="Manager" itemValue="Manager" />
							<f:selectItem itemLabel="Director" itemValue="Director" />
						</p:selectOneMenu>
					</h:panelGrid>
				</p:panel>
				
				<p:panel header="Contact" toggleable="true" toggleSpeed="500">
					<h:panelGrid columns="2" cellpadding="5">
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="Contact Type: " />
						<p:selectOneMenu value="#{profileMB.contactBean.type}">
							<f:selectItem itemLabel="Company" itemValue="company" />
							<f:selectItem itemLabel="Individual" itemValue="individual" />
						</p:selectOneMenu>
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="Street: " />
						<p:inputText id="cStreet" value="#{profileMB.contactBean.address}" />
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="City: " />
						<p:inputText id="cCity" value="#{profileMB.contactBean.city}" />
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="State: " />
						<p:inputText id="cState" value="#{profileMB.contactBean.state}" />
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="Zip: " />
						<p:inputText id="cZip" value="#{profileMB.contactBean.zip}" />
	
					</h:panelGrid>
				</p:panel>
				
				<p:panel header="Company" toggleable="true" toggleSpeed="500">
					<h:panelGrid columns="2" cellpadding="5">
	
						<p:spacer height="2" />
						<p:spacer height="2" />
	
						<h:outputText value="Company: " />
						<p:inputText id="companyName" value="#{profileMB.companyBean.name}" />
	
					</h:panelGrid>
				</p:panel>
				
				<p:spacer height="10"/>
				
				<p:commandButton value="Preview" update="summary"
				style="margin-top: 15px; margin-bottom: 15px; float: left;" />
				
				<p:commandButton value="Save" action="mainMenu.xhtml" 
				actionListener="#{profileMB.save}" 
				style="margin-top: 15px; margin-bottom: 15px;" />
				
				<p:spacer height="10"/>
				
				<p:panel id="summary" header="Summary">
					<h:panelGrid columns="2" cellpadding="10">
						<h:outputText value="User Name: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.user_name}" />
		
						<h:outputText value="Email: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.email}" />
		
						<h:outputText value="Role: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.role}" />
		                 
		                <h:outputText value="Experience: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.experience}" />
		
						<h:outputText value="Contact type: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.contact.type}" />
		
						<h:outputText value="Street: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.contact.address}" />
		
						<h:outputText value="City: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.contact.city}" />
		
						<h:outputText value="State: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.contact.state}" />
		
						<h:outputText value="Zip: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.contact.zip}" />
		
						<h:outputText value="Company: " />
						<h:outputText styleClass="outputLabel" style="margin-left: 10px;"
							value="#{profileMB.userBean.company.name}" />
							
					</h:panelGrid>
				</p:panel>
			</p:panel>
			<p:panel header="Assets">
				<!-- Table -->
				<div id="assetTable" class="row panel panel-default">
					<h:form enctype="multipart/form-data">
					<h:dataTable id="assetList" value="#{assetController.search()}" var="assetBean" paginator="true" rows="10"
						styleClass="table" headerClass="ordersHeader" rowClasses="oddRow,evenRow">
						
						<h:column headerClass="columnHeader" footerClass="columnFooter"> 
							<f:facet name="header">Title</f:facet>
							#{assetBean.name}
							<f:facet name="footer"></f:facet> 
						</h:column>
						
						<h:column headerClass="columnHeader" footerClass="columnFooter"> 
							<f:facet name="header">Type</f:facet>
							#{assetBean.type}
							<f:facet name="footer"></f:facet> 
						</h:column>
						
						<h:column headerClass="columnHeader" footerClass="columnFooter"> 
							<f:facet name="header">Size</f:facet>
							#{assetBean.size}
							<f:facet name="footer"></f:facet> 
						</h:column>
						
						<h:column headerClass="columnHeader" footerClass="columnFooter"> 
							<f:facet name="header">Link</f:facet>
								<h:outputLink value="#{request.contextPath}#{assetBean.location}">Download</h:outputLink>
							<f:facet name="footer"></f:facet> 
						</h:column>
					</h:dataTable>
					<br />
						<p:fileUpload fileUploadListener="#{profileMB.submit}" mode="advanced" dragDropSupport="false"  
                     		 update="messages assetList" sizeLimit="1000000" fileLimit="3" allowTypes="/(\.|\/)(pdf|docx|txt)$/" />  
        				<p:messages id="messages" showDetail="true"/>  
					</h:form>
				</div>
			
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>
</h:body>
</html>